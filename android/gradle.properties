org.gradle.jvmargs=-Xmx4G -XX:MaxMetaspaceSize=4G -XX:ReservedCodeCacheSize=512m -XX:+HeapDumpOnOutOfMemoryError
android.useAndroidX=true
android.enableJetifier=true

# Align Kotlin bytecode target with Java across all subprojects/plugins
# This helps plugins (e.g., workmanager_android) compile with the same target
kotlin.jvm.target=17
# If a plugin forces a different target, downgrade validation to warning rather than fail-fast
kotlin.jvm.target.validation.mode=warning

# Let Gradle auto-provision JDK 17 for Java toolchains when needed
org.gradle.java.installations.auto-detect=true
org.gradle.java.installations.auto-download=true

# Workaround for rare Kotlin compiler internal errors in some transitive plugins
# Disable incremental compilation for release builds on CI
kotlin.incremental=false
# Give the Kotlin daemon extra heap to avoid OOM during plugin builds
kotlin.daemon.jvmargs=-Xmx2048m